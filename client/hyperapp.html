<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="./hyperapp.css" />
    <script type="module">

/* Your code goes here */      
        import {h, text, app} from "https://cdn.skypack.dev/hyperapp"

        const withPayload = (filter) => (_, payload) => filter(payload)
        const input = (oninput, props) => h("input", { oninput, ...props })
        const title = (title) => h("h1", {}, text(title))
        const main = (...children) => h("main", {}, children)

        const SetText = (state, message) => ({ ...state, message })

        app({
            init: { message: "" },
            view: (state) =>
                main(
                    title(state.message.trim() === "" ? "Insert Title Here" : state.message),
                    input(
                        withPayload(({ target }) => [SetText, target.value]), { 
                            placeholder: "Type in something...",
                            value: state.message,
                            type: "text",
                        }
                    )
                ),
            
               node: document.getElementById("app"),
        })

    </script>
  </head>
  <body>
    <main id="app"/>
  </body>
</html>

